# Архитектура узла сети

## Компоненты
* Контроллер
* Модуль связи
* Сенсор / исполнительный механизм
* Память
* Источник питания

## Ad-hoc
В дополнение к написанному выше имеет:
* Устройства вывода
* Устройства ввода

## Контроллер
* Микроконтроллеры – процессоры общего назначения
* Специализированные интегральные схемы  (ASIC) – процессоры специального назначения, невозможно перепрограммировать.
* Сигнальные процессоры (DSP) – решают задачи обработки сигналов, для рассматриваемой цели неприменимы.
* Программируемые логические интегральные схемы (ПЛИС) – могут быть удобны для тестовых задач.

## Модуль связи
Средой передачи могут служить:
* ЭМ волны в радиодиапазоне
* ЭМ волны в видимом диапазоне
* Ультразвук

`Трансиверы` – передают и принимают информацию в радиодиапазоне.

## Характеристики трансиверов

* Формат поступающих данных (биты, байты, пакеты)
* Радиочастотный диапазон
* Многоканальность
* Скорость передачи данных
* Дальность

Радиопередатчик:
* Модуляция (амплитудная (`AM`), частотная (`FM`))
* Коээффициент шума  `NF (noise factor) = SNR_in / SNR_out (signal to noise ratio)`
* Коэффициент усиления
* Чувствительность приёмника (минимальная мощность `signal_in` для нормального  `Eb / N0`)
* Производительность при блокировании (достижимый `BER (bit error rate)` в присутствие сдвинутой по частоте помехи)
* Внеполосные излучения
* Контроль несущей и характеристики индикация уровня принимаемого сигнала
* Стабильность частоты



Параметры энергопотребления:
* Мощность на приём / передачу данных
* Затраты времени на переключение
* КПД

## Состояния трансивера

* Передача
* Приём
* Простой
* Сон

## Просыпающиеся приёмники
В режиме простоя потребляется немало энергии

Решения:
* MAC протоколы с конкурентным доступом (приёмник должен работать постоянно)
* MAC протоколы с множественным доступом на основе временнóго разделения (TDMA): высокие затраты ресурсов на синхронизацию

Желательно иметь приёмник, который реагирует только на входящие сообщения и пробуждает основной приёмник.

## Связь в оптическом диапазоне
* Меньше энергозатрат

## Сверхширокополосная связь
Особенности:
* Используется широкая полоса пропускания, нет модуляции сигнала, а есть излучения «всплесков» энергии.
* Формируются короткие, почти прямоугольные импульсы.
* Информация заключается в наличии / отсутствии импульса.
* Требуется высокая временная синхронизация приёмника.
* Малая дальность связи

Преимущества:
* Высокая устойчивость к многолучевому распространению.
* Хорошие возможности выбора диапазона
* Сигнал хорошо проходит через препятствия.

## Характеристики сенсоров

* Пассивные и активные сенсоры по принципу излучения энергии
* Направленные и ненаправленные
* Область действия

# Энергоснабжение и энергопотребление
Необходимо обеспечить максимальный объём энергии при минимальных стоимости / объёме / весе / времени подзарядки... В БСС возможность подзарядки может отсутствовать.

Варианты конструкции:
* Первичные батареи – незаряжаемые.
* Вторичные батареи – перезаряжаемые. Имеет смысл использовать только при наличии возможностей получения дополнительной энергии. (Кэп?)

Требования:
* Низкий саморазряд.
* Возможность долгосрочного хранения.
* Сохранение ёмкости под нагрузкой.
* Эффективная перезарядка низким напряжением.
* Медленное падение ёмкости при перезарядках.
* Стабильность напряжения.

## Получение энергии

Окружающие источники:
* Свет. Солнечные батареи `.01 — 15 мВт / см^2`
* Температурные градиенты – `.08 мВт / см^2` из разности в `5 К`
* Вибрации – `.0001 - 10 мВт / см^3`
* Изменение величины давления (пьезоэлектрик) – `.33 мВт / см^2` 
* Воздушный / жидкостный поток (газовые турбины на MEMS технологиях)

## Режимы потребления энергии

Сенсорный узел не должен полностью функционировать постоянно
Если нет задач, следует переключиться в режим энергосбережения.
Проблемы:
* Когда отключаться
* Как опять проснуться

Возможны режимы сна различной глубины

## Переключение между режимами

Основная цель: Использовать наиболее экономный режим так часто, как это возможно
Проблема: Затраты времени и энергии на переход в рабочие режимы могут быть существенны



